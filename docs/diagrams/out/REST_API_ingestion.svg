<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="701px" preserveAspectRatio="none" style="width:1591px;height:701px;" version="1.1" viewBox="0 0 1591 701" width="1591px" zoomAndPan="magnify"><defs><filter height="300%" id="faa8j8ic3p4xa" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="234" x="674" y="22.9951">RBAC API Ingestion Sequence</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="43" x2="43" y1="116.5938" y2="611.5859"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="112" x2="112" y1="116.5938" y2="611.5859"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="186" x2="186" y1="116.5938" y2="611.5859"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="381.5" x2="381.5" y1="116.5938" y2="611.5859"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="648.5" x2="648.5" y1="116.5938" y2="611.5859"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="866" x2="866" y1="116.5938" y2="611.5859"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="949" x2="949" y1="116.5938" y2="611.5859"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1044" x2="1044" y1="116.5938" y2="611.5859"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1141" x2="1141" y1="116.5938" y2="611.5859"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1241" x2="1241" y1="116.5938" y2="611.5859"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1475" x2="1475" y1="116.5938" y2="611.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64" x="8" y="113.292">Azure AD</text><path d="M22.5,72.2969 L22.5,96.2969 M22.5,84.2969 L39.5,84.2969 " fill="none" filter="url(#faa8j8ic3p4xa)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="51.5" cy="84.2969" fill="#FEFECE" filter="url(#faa8j8ic3p4xa)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64" x="8" y="623.5811">Azure AD</text><path d="M22.5,630.8828 L22.5,654.8828 M22.5,642.8828 L39.5,642.8828 " fill="none" filter="url(#faa8j8ic3p4xa)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="51.5" cy="642.8828" fill="#FEFECE" filter="url(#faa8j8ic3p4xa)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="91.5" y="113.292">LDAP</text><path d="M92,72.2969 L92,96.2969 M92,84.2969 L109,84.2969 " fill="none" filter="url(#faa8j8ic3p4xa)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="121" cy="84.2969" fill="#FEFECE" filter="url(#faa8j8ic3p4xa)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="91.5" y="623.5811">LDAP</text><path d="M92,630.8828 L92,654.8828 M92,642.8828 L109,642.8828 " fill="none" filter="url(#faa8j8ic3p4xa)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="121" cy="642.8828" fill="#FEFECE" filter="url(#faa8j8ic3p4xa)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="147" y="113.292">Basic User</text><ellipse cx="186.5" cy="43.2969" fill="#FEFECE" filter="url(#faa8j8ic3p4xa)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M186.5,51.2969 L186.5,78.2969 M173.5,59.2969 L199.5,59.2969 M186.5,78.2969 L173.5,93.2969 M186.5,78.2969 L199.5,93.2969 " fill="none" filter="url(#faa8j8ic3p4xa)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="147" y="623.5811">Basic User</text><ellipse cx="186.5" cy="636.8828" fill="#FEFECE" filter="url(#faa8j8ic3p4xa)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M186.5,644.8828 L186.5,671.8828 M173.5,652.8828 L199.5,652.8828 M186.5,671.8828 L173.5,686.8828 M186.5,671.8828 L199.5,686.8828 " fill="none" filter="url(#faa8j8ic3p4xa)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="82" x="337.5" y="113.292">RBAC Client</text><path d="M361,72.2969 L361,96.2969 M361,84.2969 L378,84.2969 " fill="none" filter="url(#faa8j8ic3p4xa)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="390" cy="84.2969" fill="#ADD8E6" filter="url(#faa8j8ic3p4xa)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="82" x="337.5" y="623.5811">RBAC Client</text><path d="M361,630.8828 L361,654.8828 M361,642.8828 L378,642.8828 " fill="none" filter="url(#faa8j8ic3p4xa)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="390" cy="642.8828" fill="#ADD8E6" filter="url(#faa8j8ic3p4xa)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="624" y="80.6982">RBAC</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="612.5" y="96.9951">REST API</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="623.5" y="113.292">Server</text><ellipse cx="648.5" cy="51.7031" fill="#ADD8E6" filter="url(#faa8j8ic3p4xa)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="636.5" x2="660.5" y1="65.7031" y2="65.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="624" y="623.5811">RBAC</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="612.5" y="639.8779">REST API</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="623.5" y="656.1748">Server</text><ellipse cx="648.5" cy="675.4766" fill="#ADD8E6" filter="url(#faa8j8ic3p4xa)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="636.5" x2="660.5" y1="689.4766" y2="689.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="834" y="113.292">Validator</text><path d="M846,72.2969 L846,96.2969 M846,84.2969 L863,84.2969 " fill="none" filter="url(#faa8j8ic3p4xa)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="875" cy="84.2969" fill="#D3D3D3" filter="url(#faa8j8ic3p4xa)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="834" y="623.5811">Validator</text><path d="M846,630.8828 L846,654.8828 M846,642.8828 L863,642.8828 " fill="none" filter="url(#faa8j8ic3p4xa)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="875" cy="642.8828" fill="#D3D3D3" filter="url(#faa8j8ic3p4xa)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="74" x="909" y="113.292">RethinkDB</text><path d="M931,64.2969 C931,54.2969 949,54.2969 949,54.2969 C949,54.2969 967,54.2969 967,64.2969 L967,90.2969 C967,100.2969 949,100.2969 949,100.2969 C949,100.2969 931,100.2969 931,90.2969 L931,64.2969 " fill="#ADD8E6" filter="url(#faa8j8ic3p4xa)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M931,64.2969 C931,74.2969 949,74.2969 949,74.2969 C949,74.2969 967,74.2969 967,64.2969 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="74" x="909" y="623.5811">RethinkDB</text><path d="M931,636.8828 C931,626.8828 949,626.8828 949,626.8828 C949,626.8828 967,626.8828 967,636.8828 L967,662.8828 C967,672.8828 949,672.8828 949,672.8828 C949,672.8828 931,672.8828 931,662.8828 L931,636.8828 " fill="#ADD8E6" filter="url(#faa8j8ic3p4xa)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M931,636.8828 C931,646.8828 949,646.8828 949,646.8828 C949,646.8828 967,646.8828 967,636.8828 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="1020" y="80.6982">RBAC</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="999" y="96.9951">Transaction</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="1006.5" y="113.292">Processor</text><ellipse cx="1044.5" cy="51.7031" fill="#ADD8E6" filter="url(#faa8j8ic3p4xa)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1032.5" x2="1056.5" y1="65.7031" y2="65.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="1020" y="623.5811">RBAC</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="999" y="639.8779">Transaction</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="1006.5" y="656.1748">Processor</text><ellipse cx="1044.5" cy="675.4766" fill="#ADD8E6" filter="url(#faa8j8ic3p4xa)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1032.5" x2="1056.5" y1="689.4766" y2="689.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="1100" y="113.292">LS Inbound</text><ellipse cx="1141.5" cy="84.2969" fill="#ADD8E6" filter="url(#faa8j8ic3p4xa)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1129.5" x2="1153.5" y1="98.2969" y2="98.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="1100" y="623.5811">LS Inbound</text><ellipse cx="1141.5" cy="642.8828" fill="#ADD8E6" filter="url(#faa8j8ic3p4xa)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1129.5" x2="1153.5" y1="656.8828" y2="656.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="1193" y="113.292">LS Outbound</text><ellipse cx="1241" cy="84.2969" fill="#ADD8E6" filter="url(#faa8j8ic3p4xa)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1229" x2="1253" y1="98.2969" y2="98.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="1193" y="623.5811">LS Outbound</text><ellipse cx="1241" cy="642.8828" fill="#ADD8E6" filter="url(#faa8j8ic3p4xa)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1229" x2="1253" y1="656.8828" y2="656.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="1461.5" y="113.292">???</text><ellipse cx="1475" cy="84.2969" fill="#FFA500" filter="url(#faa8j8ic3p4xa)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1463" x2="1487" y1="98.2969" y2="98.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="1461.5" y="623.5811">???</text><ellipse cx="1475" cy="642.8828" fill="#FFA500" filter="url(#faa8j8ic3p4xa)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1463" x2="1487" y1="656.8828" y2="656.8828"/><rect fill="#EEEEEE" filter="url(#faa8j8ic3p4xa)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1576" x="3" y="147.1602"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1579" y1="147.1602" y2="147.1602"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1579" y1="150.1602" y2="150.1602"/><rect fill="#EEEEEE" filter="url(#faa8j8ic3p4xa)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="79" x="751.5" y="136.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="60" x="757.5" y="152.6606">inbound</text><polygon fill="#A80036" points="369.5,186.8594,379.5,190.8594,369.5,194.8594,373.5,190.8594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="186.5" x2="375.5" y1="190.8594" y2="190.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="193.5" y="185.7935">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="206.5" y="185.7935">Create RBAC transaction</text><polygon fill="#A80036" points="636.5,215.9922,646.5,219.9922,636.5,223.9922,640.5,219.9922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="381.5" x2="642.5" y1="219.9922" y2="219.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="388.5" y="214.9263">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="401.5" y="214.9263">Hit REST endpoint</text><polygon fill="#A80036" points="1032.5,245.125,1042.5,249.125,1032.5,253.125,1036.5,249.125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="648.5" x2="1038.5" y1="249.125" y2="249.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="655.5" y="244.0591">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="189" x="668.5" y="244.0591">Initialize sawtooth transaction</text><polygon fill="#A80036" points="854.5,274.2578,864.5,278.2578,854.5,282.2578,858.5,278.2578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="648.5" x2="860.5" y1="278.2578" y2="278.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="655.5" y="273.1919">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="181" x="668.5" y="273.1919">Create sawtooth transaction</text><polygon fill="#A80036" points="392.5,303.3906,382.5,307.3906,392.5,311.3906,388.5,307.3906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="386.5" x2="647.5" y1="307.3906" y2="307.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="398.5" y="302.3247">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="230" x="411.5" y="302.3247">Return result of transaction creation</text><rect fill="#EEEEEE" filter="url(#faa8j8ic3p4xa)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1576" x="3" y="335.957"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1579" y1="335.957" y2="335.957"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1579" y1="338.957" y2="338.957"/><rect fill="#EEEEEE" filter="url(#faa8j8ic3p4xa)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="90" x="746" y="325.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="71" x="752" y="341.4575">outbound</text><polygon fill="#A80036" points="1229,375.6563,1239,379.6563,1229,383.6563,1233,379.6563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="866.5" x2="1235" y1="379.6563" y2="379.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="873.5" y="374.5903">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="276" x="886.5" y="374.5903">Get complete transaction from changefeed</text><polygon fill="#A80036" points="960,404.7891,950,408.7891,960,412.7891,956,408.7891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="954" x2="1240" y1="408.7891" y2="408.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="966" y="403.7231">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="979" y="403.7231">Update relevant tables</text><rect fill="#EEEEEE" filter="url(#faa8j8ic3p4xa)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1576" x="3" y="437.3555"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1579" y1="437.3555" y2="437.3555"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1579" y1="440.3555" y2="440.3555"/><rect fill="#EEEEEE" filter="url(#faa8j8ic3p4xa)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="60" x="761" y="426.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="41" x="767" y="442.856">TODO</text><path d="M1375,464.9219 L1375,504.9219 L1570,504.9219 L1570,474.9219 L1560,464.9219 L1375,464.9219 " fill="#FFFFE0" filter="url(#faa8j8ic3p4xa)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1560,464.9219 L1560,474.9219 L1570,474.9219 L1560,464.9219 " fill="#FFFFE0" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="1381" y="481.9888">Need to prevent infinite</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="1381" y="497.1216">loops from RBAC providers.</text><polygon fill="#808080" points="1463,531.3203,1473,535.3203,1463,539.3203,1467,535.3203" style="stroke: #808080; stroke-width: 1.0;"/><line style="stroke: #808080; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1241" x2="1469" y1="535.3203" y2="535.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1248" y="530.2544">8</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="41" x="1261" y="530.2544">TODO</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="1302" y="530.2544">: Remote outbound sync</text><polygon fill="#808080" points="123.5,560.4531,113.5,564.4531,123.5,568.4531,119.5,564.4531" style="stroke: #808080; stroke-width: 1.0;"/><line style="stroke: #808080; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="117.5" x2="1474" y1="564.4531" y2="564.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="129.5" y="559.3872">9</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="41" x="142.5" y="559.3872">TODO</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="183.5" y="559.3872">: Remote outbound sync</text><polygon fill="#808080" points="54,589.5859,44,593.5859,54,597.5859,50,593.5859" style="stroke: #808080; stroke-width: 1.0;"/><line style="stroke: #808080; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="48" x2="1474" y1="593.5859" y2="593.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="60" y="588.52">10</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="41" x="82" y="588.52">TODO</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="123" y="588.52">: Remote outbound sync</text><!--
@startuml
autonumber
    hide stereotype
    scale 1

    skinparam database {
        BackgroundColor<< NEXT >> lightblue
        BorderColor<< NEXT >> darkblue
        BackgroundColor<< HYPERLEDGER >> lightgrey
        BorderColor<< HYPERLEDGER >> darkgrey
    }
    skinparam entity {
        BackgroundColor<< NEXT >> lightblue
        BorderColor<< NEXT >> darkblue
        BackgroundColor<< HYPERLEDGER >> Lightgrey
        BorderColor<< HYPERLEDGER >> darkgrey
    }
    skinparam boundary {
        BackgroundColor<<NEXT>> lightblue
        BorderColor<<NEXT>> darkblue
        BackgroundColor<<HYPERLEDGER>> Lightgrey
        BorderColor<<HYPERLEDGER>> darkgrey
    }

    boundary "Azure AD" as azure
    boundary "LDAP" as ldap
    actor "Basic User" as user
    boundary "RBAC Client" as client <<NEXT>>
    entity "RBAC \nREST API \nServer" as API <<NEXT>>
    boundary "Validator" as validator <<HYPERLEDGER>>
    database "RethinkDB" as rethink <<NEXT>>
    entity "RBAC \nTransaction \nProcessor" as tp <<NEXT>>
    entity "LS Inbound" as ls_in <<NEXT>>
    entity "LS Outbound" as ls_out <<NEXT>>
    entity "???" #orange

title RBAC API Ingestion Sequence
== inbound ==
user -> client: Create RBAC transaction
client -> API: Hit REST endpoint
API -> tp: Initialize sawtooth transaction
API -> validator: Create sawtooth transaction
API -> client: Return result of transaction creation
== outbound ==
validator -> ls_out: Get complete transaction from changefeed
ls_out -> rethink: Update relevant tables
== TODO ==
note over "???" #lightyellow
    Need to prevent infinite 
    loops from RBAC providers.
end note
ls_out - -[#grey]> "???": **TODO**: Remote outbound sync
"???" - -[#grey]> ldap: **TODO**: Remote outbound sync
"???" - -[#grey]> azure: **TODO**: Remote outbound sync
@enduml

PlantUML version 1.2019.05(Sat Apr 20 16:45:36 UTC 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>